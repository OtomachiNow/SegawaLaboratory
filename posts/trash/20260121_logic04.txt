Title: 命題論理-4
Date: 2026/01/21
Status: public

# 前回の宿題

栃村　右
    前回の宿題の2番、排中律 $A 
v$  A$ の証明ですけど……。

瀬川　左
    どうだった？

栃村　右
    正直、無理でした。$X 	o X$ すらあんなに長かったのに、$
v$ とか $$ が入ってきて、公理も10個あって、どれをどう組み合わせればいいのか検討もつかなくて……。
    3時間粘って、ノートが真っ黒になっただけでした。

瀬川　左
    ふふ、まあそうでしょうね。素人がヒルベルト流の公理系で、真正面からパズルを解こうなんて100年早いわ。

栃村　右
    えぇ……じゃあどうすればよかったんですか。

瀬川　左
    実はね、証明を劇的に簡単にする「魔法の定理」があるの。今日はそれを授けるわ。
    その名も **「演繹定理 (Deduction Theorem)」** よ。

# 演繹定理

!begin:box: 定理：演繹定理
    論理式の集合 $\Gamma$ と論理式 $A, B$ について、以下が成り立つ。
    $$\Gamma, A \vdash B \iff \Gamma \vdash A \to B$$ 
!end:box

栃村　右
    えっと、これはどういう意味ですか？左側の $\Gamma, A \vdash B$ っていうのは……。

瀬川　左
    「仮定 $\Gamma$ に加えて、$A$ も仮定していいなら、$B$ が証明できる」という意味ね。
    右側は、「仮定 $\Gamma$ だけで、$A 	o B$ という含意記号を含む式が証明できる」という意味。

瀬川　左
    つまりね、**「$A 	o B$ を証明せよ」と言われたら、「$A$ を仮定して $B$ を導けばいい」** ということなの！

栃村　右
    ！！
    それって、すごく当たり前のことじゃないですか？数学の証明っていつもそうやってますよ。「$n$ が偶数ならば」を証明するとき、とりあえず「$n$ を偶数と置く」ところから始めますし。

瀬川　左
    そう、その「数学でいつもやっている当たり前の論法」が、この形式的な記号操作の世界でもちゃんと使える、ということを保証するのがこの定理なの。
    前回やった $X 	o X$ の証明、覚えてる？

栃村　右
    はい。ax.1 と ax.2 を組み合わせて、すごく長くなったやつですよね。

瀬川　左
    演繹定理を使えば一瞬よ。
    証明したいのは $\vdash X 	o X$ 。演繹定理によれば、これは $X 
v$ $X$ と同値。
    $X$ を仮定して $X$ を導く……つまり、「$X$ があるとき、$X$ はあるか？」

栃村　右
    あります！というか、仮定そのものです！

瀬川　左
    はい証明終了。

栃村　右
    うわああああ！あんなに苦労したのに！ズルじゃないですかこれ！

瀬川　左
    ズルじゃないわよ。メタ定理という強力な武器なの。
    これを使えば、前回の宿題 $A 
v$  A$ も、これまた証明が面倒な $( A 	o  B) 	o (B 	o A)$ のような式も、仮定を使うことで驚くほど簡単に証明できるようになるわ。

栃村　右
    へぇぇ……すごい。

瀬川　左
    ただし！この演繹定理自体を証明するには、少し骨が折れるわ。
    基本的には、証明の長さ（ステップ数）に関する数学的帰納法を使うの。
    1. 公理そのものの場合
    2. 仮定 $A$ そのものの場合
    3. MP（分離規則）を使った場合
    それぞれについて、変換が可能であることを示していくわけ。まあ、細かい証明は教科書に譲るとして、今日は「使える」ようになりなさい。

# 健全性

瀬川　左
    さて、これで私たちはバリバリと証明ができるようになったわけだけど……ここで一つ、不安にならない？

栃村　右
    不安？

瀬川　左
    私たちがパズルみたいに記号を組み合わせて作った「定理」。
    これ、**本当に「正しい」の？**

栃村　右
    え？正しいって、公理から正しく導かれたんだから、正しいんじゃないんですか？

瀬川　左
    それは「構文論（証明論）」としての正しさ。
    私が聞いているのは、「意味論（真理値表）」としての正しさよ。
    一生懸命証明した式が、真理値表を書いたら「偽」になることがあったらどうする？

栃村　右
    それは……困ります。証明した意味がないというか、詐欺というか。

瀬川　左
    そうよね。だから、我々の論理システムが「まとも」であることを保証する必要がある。
    それが **「健全性 (Soundness)」** よ。

!begin:box: 定理：健全性定理
    任意の論理式 $\phi$ について、
    $$\vdash \phi \implies \models \phi$$ 
    （証明できるならば、それはトートロジー（恒真式）である）
!end:box

瀬川　左
    記号 $\vdash$ は証明可能、$\models$ は意味的に正しい（トートロジー）を表すわ。
    証明論の世界と、意味論の世界。この2つの世界が、この定理によって橋渡しされるの。

栃村　右
    なるほど。これが成り立ってないと、安心して証明できないですね。
    で、これは成り立つんですか？

瀬川　左
    もちろん。証明の方針はこうよ。
    1. **全ての公理がトートロジーであることを確認する。**
    2. **推論規則（MP）が、「真なるものから真なるものしか導かない」ことを確認する。**

    この2つが言えれば、公理から出発してMPを繰り返してできる定理は、すべてトートロジーになるはずでしょ？

栃村　右
    確かに。ドミノ倒しみたいに、最初が正しくて、倒れるルールが正しければ、最後まで正しいはずです。

瀬川　左
    じゃあ、チェックしてみましょうか。
    まず一番簡単な (ax.1) $A 	o (B 	o A)$ 。これの真理値表を書いてみて。

栃村　右
    えっと、こうですか？

!begin:table
| $A$ | $B$ | $B 	o A$ | $A 	o (B 	o A)$ |
|:---:|:---:|:---:|:---:|
| T | T | T | **T** |
| T | F | T | **T** |
| F | T | F | **T** |
| F | F | T | **T** |
!end:table

栃村　右
    おお、全部 T になりました！トートロジーです。

瀬川　左
    次に推論規則 MP。
    $A$ が真で、$A 	o B$ も真なら、必ず $B$ も真になる？

栃村　右
    $A 	o B$ が真になるのは、(T,T), (F,T), (F,F) の3パターン。
    そのうち $A$ も真なのは (T,T) のパターンだけ。
    このとき、$B$ は……T ですね！

瀬川　左
    その通り。
    つまり、我々のシステム $H_a$ は、嘘をつかない（健全である）ことが分かったわ。
    安心して証明に励みなさい。

# まとめ

!begin:box: まとめ
    *   **演繹定理**: 「ならば」の証明は、仮定をおけば簡単になる。($\Gamma, A \vdash B \iff \Gamma \vdash A \to B$)
    *   **健全性**: 証明できる式は、必ず正しい（トートロジーである）。($\vdash \phi \implies \models \phi$)
    *   我々の論理システムは、バグっていない！
!end:box

!begin:box: 宿題
    1. 今回チェックしなかった残りの公理（特に ax.3 と ax.9）について、真理値表を書いてトートロジーになることを確認せよ。これは健全性証明の「穴埋め」になる。
    
    2. 瀬川研究室の公理系に、新しい公理 **(ax.Tonk)** $(A 
v$ $B) 	o A$ を勝手に追加してみよう。
       この新しいシステムにおいて、
       (a) 任意の論理式 $B$ に対して $\vdash  B$ が証明できてしまうことを示せ。（ヒント：$A$ に矛盾などを代入してみる？）
       (b) このシステムが「健全」ではなくなったことを、真理値表を用いて示せ。
!end:box
